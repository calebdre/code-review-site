<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Code Review Website - Home</title>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400|Raleway:500" rel="stylesheet">
        <link rel="stylesheet" href="default.min.css">
        <link rel="stylesheet" href="taggle.css">
        <link rel="stylesheet" href="shared.css">
        <link rel="stylesheet" href="index-style.css">
    </head>
    <body>

        <div class="container">

            <div class="title-filter-bar">
                <p class="title">Review Requests</p>
                <div id="filter-tags" class="filter-tags"></div>
            </div>

            <p class="filter-by-text"></p>
            <div class="submissions">


            </div>
        </div>

        <script src="firebase4.0.js"></script>
        <script src="Utils.js"></script>
        <script src="highlight.min.js"></script>
        <script src="jquery-3.2.1.slim.min.js"></script>
        <script src="taggle.min.js"></script>
        <script>

            function updateFilter() {
                const tags = filterTags.getTagValues()
                const tagsHtmlData = tags.reduce((accumulator, item, index) => {
                    accumulator.push({
                        "class": "filter-tag",
                        "tag": "span",
                        "data": item
                    });

                    if (tags.length !== 1 && index !== (tags.length - 1)) {
                        accumulator.push({
                            "class": "filter-tag-separator",
                            "tag": "span",
                            "data": ", "
                        })
                    }

                    return accumulator;
                }, []);
                const tagStringHtml = composeHtml(tagsHtmlData);
                $(".filter-by-text").text('filtering by ');
                $(".filter-by-text").append(tagStringHtml);
            }

            const filterTags = new Taggle("filter-tags", {
                duplicateTagClass: 'bounce',
                placeholder: "Enter some tags to filter by",
                onTagAdd: updateFilter,
                onTagRemove: updateFilter
            });
        </script>
    </body>
</html>